!function(e){function t(t){for(var r,c,i=t[0],s=t[1],u=t[2],f=0,d=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);d.length;)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={5:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;a.push([243,0,1]),n()}({10:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(51),a=n(50),c=n(27),i=n(8);function s(e){const[t]=Object(r.useState)(e),[n,s]=Object(r.useState)(null);return Object(r.useEffect)((()=>{const e=Object(c.a)(t,(e=>{s((t=>t?Object(i.b)(t,(t=>{Object(o.a)(t,e)})):t))}),s);return()=>{e()}}),[t]),[n,e=>{s((t=>{if(!t)return t;if("function"!=typeof e){const t=e;e=e=>{Object(o.a)(e,t)}}return Object(i.b)(t,e,(e=>{const n=e.map((e=>e.path[0])),r=Object(a.a)(t,n),o=Object(i.a)(r,e);browser.storage.local.set(o)}))}))}]}Object(i.c)()},102:function(e,t,n){var r=n(125);e.exports="string"==typeof r?r:r.toString()},125:function(e,t,n){var r=n(97)(!1);r.push([e.i,"#root{cursor:default;overflow-wrap:anywhere;-moz-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:100%;box-sizing:border-box;font-size:14px;font-weight:400;letter-spacing:0;line-height:1.28581;text-transform:none;color:#182026;font-family:-apple-system, 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Open Sans', 'Helvetica Neue', 'Icons16', sans-serif}\n",""]),e.exports=r},160:function(e,t,n){var r=n(244);e.exports="string"==typeof r?r:r.toString()},243:function(e,t,n){e.exports=n(249)},244:function(e,t,n){var r=n(97)(!1);r.push([e.i,".blocked-tip{top:20px}\n",""]),e.exports=r},249:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(13),c=n.n(a),i=n(55),s=n(43),u=n(99),l=n(102),f=n.n(l),d=n(160),p=n.n(d),b=n(259),y=n(50),h=n(7),m=n(10);const v=window.location.search.includes("_blocked"),g=Object(y.a)(h.a,"tipBlockedPDFClosed");Object(i.b)(),browser.runtime.sendMessage({action:"update badge"});const w=document.createElement("button");w.textContent="复制 PDF 网址",w.style.margin="3px 2px 4px 0",w.style.cursor="pointer",w.addEventListener("click",(()=>{const e=new URLSearchParams(window.location.search).get("file");e?Object(s.b)(e):window.alert("没有读取到 PDF 网址")}));const O=document.getElementById("toolbarViewerRight");null==O||O.insertAdjacentElement("afterbegin",w);const j=document.createElement("span");j.textContent="提示：可以将 PDF 文件拖放到此页面打开",j.style.fontSize="12px",j.style.color="#fff",j.style.margin="8px 8px 0 0",null==O||O.insertAdjacentElement("afterbegin",j);const S=document.createElement("div");S.style.all="initial",document.documentElement.appendChild(S),c.a.render(o.a.createElement((function(){const[e,t]=Object(r.useState)(null),[n,a]=Object(m.a)(g),c=null==n?void 0:n.tipBlockedPDFClosed;return Object(r.useEffect)((()=>{v&&!1===c&&e&&e.show({timeout:0,className:"blocked-tip",intent:"warning",message:o.a.createElement(o.a.Fragment,null,"由于浏览器自身的安全限制，划词翻译无法通过右键菜单打开电脑里的 PDF 文件，请将文件拖放到此页面打开。",o.a.createElement("a",{onClick:()=>{a({tipBlockedPDFClosed:!0})}},"不再提示"))})}),[e,c]),o.a.createElement(u.a.div,null,o.a.createElement("style",null,f.a),o.a.createElement("link",{rel:"stylesheet",href:browser.runtime.getURL("evergreen.css")}),o.a.createElement("link",{rel:"stylesheet",href:browser.runtime.getURL("blueprint.css")}),o.a.createElement("style",null,p.a),o.a.createElement("div",{id:"root"},n&&!n.tipBlockedPDFClosed&&o.a.createElement(b.J,{ref:t,usePortal:!1})))}),null),S)},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(92);const o=[];function a(e,t,n,r="local"){return browser.storage[r].get(e).then((e=>{(n||t)(e,!0)})).then((()=>{const n=Object.keys(e);o.push({defaultOptions:e,onChange:t,area:r,keys:n})})),()=>{const n=o.findIndex((n=>n.onChange===t&&n.area===r&&n.defaultOptions===e));return n>=0&&(o.splice(n,1),!0)}}browser.storage.onChanged.addListener(((e,t)=>{o.forEach((n=>{if(n.area!==t)return;const o=function(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&t.includes(r)&&(n[r]=e[r].newValue);return n}(e,n.keys);Object(r.a)(o)||n.onChange(o)}))}))},37:function(e,t,n){"use strict";async function r(){return(await browser.tabs.query({active:!0,highlighted:!0,windowId:browser.windows.WINDOW_ID_CURRENT}))[0]}n.d(t,"a",(function(){return r}))},43:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var r=n(118);let o,a=()=>{a=r.a,o=document.createElement("textarea"),o.style.position="absolute",o.style.top="-99999px",document.body.appendChild(o)};function c(e){a(),o.value=e,o.select(),document.execCommand("copy")}function i(){return a(),o.value="",o.focus(),document.execCommand("paste"),o.value}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(37);async function o(e){var t;try{let t;if(t=void 0===e?(await browser.tabs.executeScript({code:"window.location.href",runAt:"document_start"}))[0]:(await browser.tabs.executeScript(e,{code:"window.location.href",runAt:"document_start"}))[0],t.startsWith("moz-extension"))throw new Error;return t}catch(n){if(void 0===e&&!(e=null===(t=await Object(r.a)())||void 0===t?void 0:t.id))return;try{return await browser.tabs.sendMessage(e,"get tab url")}catch(e){}}}function a(){const e=e=>{if("get tab url"===e)return Promise.resolve(window.location.href)};return browser.runtime.onMessage.addListener(e),()=>{browser.runtime.onMessage.removeListener(e)}}},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r={button:!0,modifierKey:!0,domainBlackList:[],domainWhiteList:[],textList:[{name:"忽略中文",readonly:!0,enabled:!1,value:"[\\u4e00-\\u9fa5]",description:"如果划选的文本当中包含中文，则不弹出翻译按钮或翻译结果。"},{name:"忽略字符",readonly:!0,enabled:!0,value:"^[\\s.\\-0-9()•+]+$",description:"如果划选的文本全部都是由数字、点、括号、空格、横线、加号和圆点（即 •，多用于密码框）组成的，则不弹出翻译按钮或翻译结果。"}],placement:"bottom",pin:!1,pinPos:null,darkMode:"system",pdfAuto:!0,width:250,destination:"中文(简体)",secondDestination:"英语",showTextArea:!1,selectedAPIs:["BaiDuWeb"],autoClipboard:!0,autoPlay:!1,autoCopy:!1,recentUseLangFrom:[""],recentUseLangTo:["中文(简体)"],tipPanelSettingsClosed:!1,tipBlockedPDFClosed:!1,panelPos:{width:270,height:500,left:100,top:100},notifySyncOptions:!0,sourceTransformNoBr:!1,sourceTransformNCaml:!1,historyEnabled:!1,historySyncEnabled:!1,favoritesEnabled:!0,favoritesSyncEnabled:!1},o={user:null,optionsSyncAt:null,disabledNofiByBrowserUI:!1}},97:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(c=r,i=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(s," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([o]).join("\n")}var c,i,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var i=0;i<e.length;i++){var s=[].concat(e[i]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},99:function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(13),c=n(16),i=n.n(c),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function u(e,t){return e(t={exports:{}},t.exports),t.exports}var l=u((function(e){!function(t){var n=function(e,t,r){if(!s(t)||l(t)||f(t)||d(t)||i(t))return t;var o,a=0,c=0;if(u(t))for(o=[],c=t.length;a<c;a++)o.push(n(e,t[a],r));else for(var p in o={},t)Object.prototype.hasOwnProperty.call(t,p)&&(o[e(p,r)]=n(e,t[p],r));return o},r=function(e){return p(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)},o=function(e){var t=r(e);return t.substr(0,1).toUpperCase()+t.substr(1)},a=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)}(e,t).toLowerCase()},c=Object.prototype.toString,i=function(e){return"function"==typeof e},s=function(e){return e===Object(e)},u=function(e){return"[object Array]"==c.call(e)},l=function(e){return"[object Date]"==c.call(e)},f=function(e){return"[object RegExp]"==c.call(e)},d=function(e){return"[object Boolean]"==c.call(e)},p=function(e){return(e-=0)==e},b=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,r){return n(t,e,r)}},y={camelize:r,decamelize:a,pascalize:o,depascalize:a,camelizeKeys:function(e,t){return n(b(r,t),e)},decamelizeKeys:function(e,t){return n(b(a,t),e,t)},pascalizeKeys:function(e,t){return n(b(o,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=y:t.humps=y}(s)})).decamelize,f=u((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t})),d=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},b=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},y=Object(r.createContext)(null);function h(e){var t=e.root,n=e.children;return Object(a.createPortal)(n,t)}function m(t){var n=Object(r.forwardRef)((function(e,n){var a,c,i=e.mode,s=e.delegatesFocus,u=e.styleSheets,l=e.ssr,d=e.children,m=b(e,["mode","delegatesFocus","styleSheets","ssr","children"]),v=(c=Object(r.useRef)((a=n)&&a.current),Object(r.useEffect)((function(){a&&(a.current=c.current)}),[a]),c),g=Object(r.useState)(null),w=p(g,2),O=w[0],j=w[1],S="node_".concat(i).concat(s);return Object(r.useEffect)((function(){if(v.current)try{if("function"==typeof n&&n(v.current),l){var e=v.current.shadowRoot;return void j(e)}var t=v.current.attachShadow({mode:i,delegatesFocus:s});u.length>0&&(t.adoptedStyleSheets=u),j(t)}catch(e){!function(e){var t=e.error,n=e.styleSheets,r=e.root;switch(t.name){case"NotSupportedError":n.length>0&&(r.adoptedStyleSheets=n);break;default:throw t}}({error:e,styleSheets:u,root:O})}}),[n,v,u]),o.a.createElement(o.a.Fragment,null,o.a.createElement(t.tag,f({key:S,ref:v},m),(O||l)&&o.a.createElement(y.Provider,{value:O},l?o.a.createElement("template",{shadowroot:"open"},t.render({root:O,ssr:l,children:d})):o.a.createElement(h,{root:O},t.render({root:O,ssr:l,children:d})))))}));return n.propTypes={mode:i.a.oneOf(["open","closed"]),delegatesFocus:i.a.bool,styleSheets:i.a.arrayOf(i.a.instanceOf(e.CSSStyleSheet)),ssr:i.a.bool,children:i.a.node},n.defaultProps={mode:"open",delegatesFocus:!1,styleSheets:[],ssr:!1,children:null},n}h.propTypes={root:i.a.object.isRequired,children:i.a.node},h.defaultProps={children:null};var v=new Map;var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.children};return new Proxy(e,{get:function(e,r){var o=l(r,{separator:"-"}),a="".concat(t,"-").concat(o);return v.has(a)||v.set(a,m({tag:o,render:n})),v.get(a)}})}();t.a=g}).call(this,n(52))}});